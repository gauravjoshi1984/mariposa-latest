{"version":3,"sources":["webpack:///src/app/pages/assessment/addshoppinglist/addshoppinglist.page.html","webpack:///src/app/pages/assessment/addshoppinglist/addshoppinglist-routing.module.ts","webpack:///src/app/pages/assessment/addshoppinglist/addshoppinglist.module.ts","webpack:///src/app/pages/assessment/addshoppinglist/addshoppinglist.page.scss","webpack:///src/app/pages/assessment/addshoppinglist/addshoppinglist.page.ts"],"names":["routes","path","component","AddshoppinglistPageRoutingModule","imports","forChild","exports","AddshoppinglistPageModule","declarations","AddshoppinglistPage","_location","dataService","assessmentService","router","shoppingForm","name","required","brand","back","key","getCareCircleId","careCircleId","getUserInfo","userId","getAssessmentStateObject","then","data","stateObject","assessmentValues","CARE_NEEDS","push","value","saveAssessmentState","response","navigate","control","touched","invalid","controls","selector","template"],"mappings":"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","file":"pages-assessment-addshoppinglist-addshoppinglist-module-es5.js","sourcesContent":["export default \"<ion-header mode=\\\"md\\\">\\n    <ion-toolbar class=\\\"headtoolbar\\\">\\n        <ion-grid>\\n            <ion-row style=\\\"align-items: center;margin-top: 32px;\\\">\\n                <ion-col size=\\\"10\\\">\\n                    <ion-text color=\\\"mdblack\\\" position=\\\"floating\\\" id=\\\"titletag\\\">Add items to shopping list</ion-text>\\n                </ion-col>\\n                <ion-col>\\n                    <ion-icon style=\\\"zoom:1.2;color: black;float:right\\\" name=\\\"close-outline\\\" routerLink=\\\"/assessment/viewshoppinglist\\\"></ion-icon>\\n                </ion-col>\\n            </ion-row>\\n        </ion-grid>\\n    </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n    <ion-grid style=\\\"padding-top:32px;padding-left:24px;\\\">\\n        <form [formGroup]=\\\"shoppingForm\\\">\\n            <div class=\\\"nametag\\\" style=\\\"margin-top: 5px;\\\">\\n                <ion-text position=\\\"floating\\\" id=\\\"tag\\\">Item Name</ion-text>\\n            </div>\\n            <div>\\n                <ion-input mode=\\\"md\\\" formControlName=\\\"name\\\" class=\\\"input\\\" placeholder=\\\"Item Name\\\"></ion-input>\\n                <ion-item [hidden]=\\\"checkValidity(shoppingFormControl.name)\\\" lines=\\\"none\\\" style=\\\"margin-top:-10px;margin-left:-10px;\\\">\\n                    <ion-icon style=\\\"margin-right: 5px;\\\" name=\\\"alert-circle\\\"></ion-icon>\\n                    <ion-text class=“warning”>Item name is required.</ion-text>\\n                </ion-item>\\n            </div>\\n            <div class=\\\"nametag\\\">\\n                <ion-text position=\\\"floating\\\" id=\\\"tag\\\">Specification (brand,shop etc.,)</ion-text>\\n            </div>\\n            <div>\\n                <ion-input mode=\\\"md\\\" formControlName=\\\"brand\\\" class=\\\"input\\\" placeholder=\\\"Add any specification\\\"></ion-input>\\n                <ion-item [hidden]=\\\"checkValidity(shoppingFormControl.brand)\\\" lines=\\\"none\\\" style=\\\"margin-top:-10px;margin-left:-10px;\\\">\\n                    <ion-icon style=\\\"margin-right: 5px;\\\" name=\\\"alert-circle\\\"></ion-icon>\\n                    <ion-text class=“warning”>Specification is required</ion-text>\\n                </ion-item>\\n            </div>\\n            <div id=\\\"button\\\">\\n                <ion-button [disabled]=\\\"false\\\" class=\\\"btnblue\\\" type=\\\"submit\\\" id=\\\"signup\\\" (click)=\\\"save()\\\">ADD</ion-button>\\n            </div>\\n        </form>\\n    </ion-grid>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddshoppinglistPage } from './addshoppinglist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddshoppinglistPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddshoppinglistPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddshoppinglistPageRoutingModule } from './addshoppinglist-routing.module';\n\nimport { AddshoppinglistPage } from './addshoppinglist.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddshoppinglistPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [AddshoppinglistPage]\n})\nexport class AddshoppinglistPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2Fzc2Vzc21lbnQvYWRkc2hvcHBpbmdsaXN0L2FkZHNob3BwaW5nbGlzdC5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport {Location} from '@angular/common';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { DataserviceService } from '../../dataservice.service';\nimport { AssessmentServiceService } from '../assessment-service.service';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-addshoppinglist',\n  templateUrl: './addshoppinglist.page.html',\n  styleUrls: ['./addshoppinglist.page.scss'],\n})\nexport class AddshoppinglistPage implements OnInit {\n\n  shoppingForm: FormGroup;\n  key;\n  careCircleId;\n  userId;\n  stateObject;\n  constructor(private _location: Location,\n              private dataService: DataserviceService,\n              private assessmentService: AssessmentServiceService,\n              private router: Router) {\n    this.shoppingForm = new FormGroup({\n      name: new FormControl('', [Validators.required]),\n      brand: new FormControl('', [Validators.required])\n    });\n  }\n  ngOnInit() {\n  }\n  get shoppingFormControl(){\n    return this.shoppingForm.controls;\n  }\n  back(){\n    this._location.back();\n  }\n  async ionViewWillEnter(){\n    this.key = 'SHOPPING';\n    this.careCircleId = await this.assessmentService.getCareCircleId();\n    this.userId = await this.dataService.getUserInfo();\n    this.userId = this.userId.userId;\n    this.assessmentService.getAssessmentStateObject().then((data) => {\n      this.stateObject = data.assessmentValues.CARE_NEEDS;\n    });\n  }\n  save(){\n    if (this.stateObject == null){\n      this.stateObject = {};\n    }\n    if (!(this.key in this.stateObject)){\n        this.stateObject[this.key] = [];\n    }\n    this.stateObject[this.key].push(this.shoppingForm.value);\n    this.assessmentService.saveAssessmentState(this.careCircleId, 'CARE_NEEDS', this.userId, this.stateObject).then((response) => {\n      this.router.navigate(['/assessment/viewshoppinglist']);\n    });\n  }\n  checkValidity(control){\n    if (control.touched){\n      if (control.invalid){\n        return false;\n      }\n      else{\n        return true;\n      }\n    }\n    else{\n      return true;\n    }\n  }\n}\n"]}